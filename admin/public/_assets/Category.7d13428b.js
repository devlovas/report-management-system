let l=document.createElement("style");l.innerHTML=".category[data-v-d4bb574a]{width:100%;height:100%}.classify[data-v-d4bb574a]{width:100%;height:10%;line-height:50px;background-color:#fff;padding-left:10px;text-align:left;font-size:16px}.classify button[data-v-d4bb574a]{width:70px;height:30px;margin-right:10px;transition:.2s;box-shadow:1px 2px 3px #34495e;border-radius:20px;font-size:16px}.classify h2[data-v-d4bb574a]{margin-right:10px;vertical-align:middle;display:inline-block;font-size:18px;color:#1a2a3a}.labels[data-v-d4bb574a]{width:100%;height:25%;padding:0 5px 5px;background-color:#fff;border-bottom:10px solid #fff;box-sizing:border-box;text-align:left;overflow:auto}.labels button[data-v-d4bb574a]{width:70px;padding:2px;margin-right:2px;margin-bottom:2px;border-radius:5px;display:inline-block;box-sizing:border-box;border:1px solid #aaa;background-color:#3498db;transition:.5s;font-size:16px;color:#fff}form[data-v-d4bb574a]{margin-top:5px;vertical-align:middle;display:inline-block}form input[data-v-d4bb574a]{float:left;height:30px;margin-right:2px;border-radius:20px;border:1px solid #666;transition:.5s;text-indent:10px;font-size:16px}form i[data-v-d4bb574a]{float:left;transition:.5s}.add-label[data-v-d4bb574a]{display:inline-block}.product[data-v-d4bb574a]{width:100%;height:45%;padding:5px 5px 20px;margin-top:10px;box-sizing:border-box;background-color:#fff;text-align:left;overflow:auto}.product li[data-v-d4bb574a]{width:100%;height:50px;font-size:18px;line-height:50px;padding-left:5px;border-top:1px solid #ccc;transition:.5s;box-sizing:border-box;background-color:#fff;overflow:height;color:#4a5a6a}.add-product[data-v-d4bb574a]{margin-top:-45px;margin-left:50px}",document.head.appendChild(l);import{D as t,r as a,A as e,n as o,t as d,a as s,d as r,b as i,p as c,c as n,q as p,e as u,f as b,g,w as h,x as f,F as x,y as m,v,s as C,i as y}from"./index.822a1184.js";import{s as w,a as k}from"./FootTagbar.9de875d4.js";var z={name:"Category",components:{Toolbar:w,FootTagbar:k},setup(){const l=s(),c=i(),n=t(null),p=t(null),u=t(null),b=t(null),g=a({labels:{specs:[],color:[],other:[],inputHold:!1,crrType:"specs"},products:{data:[],selected:{},inputHold:!1}});function h(l){!l.err_code&&l.result&&(g.labels.specs=[],g.labels.color=[],g.labels.other=[],l.result.forEach((l=>g.labels[l.TYPE].push(l))))}return e.get.label().then((t=>{o(c,l,t)&&h(t)})).catch((l=>console.log(l))),e.get.product().then((t=>{o(c,l,t)&&!t.err_code&&t.result&&(g.products.data=t.result,g.products.selected=t.result[0])})).catch((l=>console.log(l))),{...l.state,...d(g),labelText:u,productText:b,inpLabelElem:n,inpProductElem:p,addLabelOnClick:function(){n.value.focus(),g.labels.inputHold=!0},addLabelSubmit:function(){e.add.label({name:u.value,type:g.labels.crrType}).then((t=>{o(c,l,t)&&(h(t),!t.err_code&&t.result?(r(l,"success",t.message),u.value=null):r(l,"error",t.message))})).catch((l=>{console.log(l)})),g.labels.inputHold=!1},addProductOnClick:function(){p.value.focus(),g.products.inputHold=!0},addProductSubmit:function(){e.add.product({name:b.value}).then((t=>{o(c,l,t)&&(!t.err_code&&t.result?(r(l,"success",t.message),g.products.data=t.result,b.value=null):r(l,"error",t.message))})).catch((l=>{console.log(l)})),g.products.inputHold=!1},onButtonClick:function(t){var a=g.products.selected,d=a.CLASSIFY;-1!=d.indexOf(t.ID)?d=d.filter((l=>l!=t.ID)):d.push(t.ID),e.chg.product({id:a.ID,name:a.NAME,classify:d.join(",")}).then((t=>{if(o(c,l,t))if(!t.err_code&&t.result){g.products.data=t.result,r(l,"success",t.message);var a=g.products.selected;a.CLASSIFY=t.result.filter((l=>a.ID===l.ID))[0].CLASSIFY}else r(l,"error",t.message)})).catch((l=>{console.log(l)}))},onProductClick:function(l){g.products.selected=l}}}};const L=y("data-v-d4bb574a");c("data-v-d4bb574a");const T={class:"category"},S={class:"classify"},F=g("h2",null,"当前分类：",-1),I={class:"labels"},M={class:"add-label"},D={action:"#"},H=g("svg",{t:"1608547794666",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"37936",width:"32",height:"32"},[g("path",{d:"M531.192944 736.105843c-23.144432 1.128997-47.417861 1.693495-71.126792 1.693495-229.186329 0-417.164278-45.159868-442.566703-104.432194-2.257993 4.515987-3.38699 9.031974-3.38699 13.54796l0 117.415656c5.080485 63.223815 202.654906 114.593164 445.389195 114.593164 62.094818 0 120.802646-3.38699 174.429989-9.596472C586.513782 836.586549 550.950386 789.733186 531.192944 736.105843z","p-id":"37937",fill:"#8a8a8a"}),g("path",{d:"M513.693495 638.44763c0-40.643881 8.467475-79.029768 23.708931-113.464168-25.402426 1.128997-51.36935 1.693495-77.900772 1.693495-229.750827 0-417.164278-45.159868-442.566703-104.432194-2.257993 4.515987-3.38699 9.596472-3.38699 14.112459l0 117.415656c5.080485 63.223815 202.654906 114.593164 445.389195 114.593164 19.192944 0 37.821389-0.564498 56.449835-1.128997C514.257993 657.640573 513.693495 648.6086 513.693495 638.44763z","p-id":"37938",fill:"#8a8a8a"}),g("path",{d:"M797.071665 355.06946c37.256891 0 73.384785 7.338479 106.125689 20.886439 0.564498-2.257993 1.128997-4.515987 1.693495-7.338479L904.890849 251.201764c0-64.352811-199.832415-117.415656-445.389195-117.415656-246.121279 0-445.389195 53.062845-445.953693 117.415656l0 117.415656c5.080485 63.223815 202.654906 114.593164 445.953693 114.593164 34.998897 0 69.433297-1.128997 102.738699-3.38699C613.045204 404.745314 699.413451 355.06946 797.071665 355.06946z","p-id":"37939",fill:"#8a8a8a"}),g("path",{d:"M797.071665 411.519294c-125.318633 0-226.928335 101.609702-226.928335 226.928335 0 125.318633 101.609702 226.928335 226.928335 226.928335 125.318633 0 226.928335-101.609702 226.928335-226.928335C1024 513.128997 922.390298 411.519294 797.071665 411.519294zM822.47409 663.850055l0 160.31753-50.804851 0 0-160.31753-160.31753 0 0-50.804851 160.31753 0L771.669239 453.292172l50.804851 0 0 160.31753L982.227122 613.609702l0 50.240353L822.47409 663.850055z","p-id":"37940",fill:"#8a8a8a"})],-1),P=g("svg",{t:"1608608619917",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5925",width:"32",height:"32"},[g("path",{d:"M512 976.7424c-256.67072 0-464.7424-208.07168-464.7424-464.73728C47.2576 255.32928 255.32928 47.2576 512 47.2576s464.7424 208.07168 464.7424 464.7424c0 256.67072-208.07168 464.7424-464.7424 464.7424z m225.41312-754.26816c-161.65888 106.2144-264.18176 424.86272-264.18176 424.86272L410.14272 490.54208l-130.11968 101.16096c55.20896 25.28768 134.0672 106.2144 201.09312 212.4288 47.31392-111.26784 193.20832-338.87744 264.18176-359.11168-27.5968-80.9216-11.82208-146.67776-7.8848-222.54592z m0 0",fill:"#1296db","p-id":"5926"})],-1),E={class:"product"},A={class:"add-product"},O={action:"#"},_=g("svg",{t:"1608549315854",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"39452",width:"21",height:"21"},[g("path",{d:"M1024 256L768 0 128 640 0 1024 384 896.498054zM307.498833 747.081712L747.081712 307.498833l82.776654 82.776653-439.58288 439.184436z m656.136965-491.081712L859.542412 360.093385 663.906615 164.457588 768 60.364202z m-329.911284-61.459922l82.776653 82.776654-439.184435 439.184435-82.776654-82.776653zM67.436576 956.264591l33.36965-99.610895 66.83891 66.838911z m145.431906-48.510505l-96.9214-96.921401 48.908949-146.428016L359.595331 859.143969zM341.366537 981.366537h512v42.633463h-512zM938.633463 981.366537h85.366537v42.633463h-85.366537z",fill:"#8a8a8a","p-id":"39453"})],-1),B=g("svg",{t:"1608608619917",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5925",width:"32",height:"32"},[g("path",{d:"M512 976.7424c-256.67072 0-464.7424-208.07168-464.7424-464.73728C47.2576 255.32928 255.32928 47.2576 512 47.2576s464.7424 208.07168 464.7424 464.7424c0 256.67072-208.07168 464.7424-464.7424 464.7424z m225.41312-754.26816c-161.65888 106.2144-264.18176 424.86272-264.18176 424.86272L410.14272 490.54208l-130.11968 101.16096c55.20896 25.28768 134.0672 106.2144 201.09312 212.4288 47.31392-111.26784 193.20832-338.87744 264.18176-359.11168-27.5968-80.9216-11.82208-146.67776-7.8848-222.54592z m0 0",fill:"#1296db","p-id":"5926"})],-1);n();const Y=L(((l,t,a,e,o,d)=>{const s=p("Toolbar"),r=p("foot-tagbar");return u(),b("div",T,[g(s),h(g("div",S,[F,g("button",{onClick:t[1]||(t[1]=t=>l.labels.crrType="specs"),style:{color:"specs"===l.labels.crrType?"#FFF":"#1a2a3a",backgroundColor:"specs"===l.labels.crrType?"#2C97D8":""}},"规格",4),g("button",{onClick:t[2]||(t[2]=t=>l.labels.crrType="color"),style:{color:"color"===l.labels.crrType?"#FFF":"#1a2a3a",backgroundColor:"color"===l.labels.crrType?"#2C97D8":""}},"颜色",4),g("button",{onClick:t[3]||(t[3]=t=>l.labels.crrType="other"),style:{color:"other"===l.labels.crrType?"#FFF":"#1a2a3a",backgroundColor:"other"===l.labels.crrType?"#2C97D8":""}},"其它",4)],512),[[f,l.labels.specs.length]]),h(g("div",I,[(u(!0),b(x,null,m(l.labels[l.labels.crrType],(t=>(u(),b("button",{onClick:l=>e.onButtonClick(t),style:{backgroundColor:l.products.selected.CLASSIFY&&-1!=l.products.selected.CLASSIFY.indexOf(t.ID)?"#e74c3c":""},key:t.ID},C(t.NAME),13,["onClick"])))),128)),g("div",M,[g("form",D,[h(g("input",{ref:"inpLabelElem",type:"text","onUpdate:modelValue":t[4]||(t[4]=l=>e.labelText=l),style:{width:(l.labels.inputHold?100:0)+"px",opacity:""+(l.labels.inputHold?1:0)}},null,4),[[v,e.labelText]]),h(g("i",{onClick:t[5]||(t[5]=(...l)=>e.addLabelOnClick&&e.addLabelOnClick(...l))},[H],512),[[f,!l.labels.inputHold]]),h(g("i",{onClick:t[6]||(t[6]=(...l)=>e.addLabelSubmit&&e.addLabelSubmit(...l))},[P],512),[[f,l.labels.inputHold]])])])],512),[[f,l.labels.specs.length]]),h(g("div",E,[g("ul",null,[(u(!0),b(x,null,m(l.products.data,((t,a)=>(u(),b("li",{onClick:l=>e.onProductClick(t),style:{backgroundColor:l.products.selected.ID==t.ID?"#bdc3c7":""},key:t.ID},C(String(++a).padStart(3,0))+" : "+C(t.NAME),13,["onClick"])))),128)),g("li",null,C(l.products.data.length+1)+" :",1)]),g("div",A,[g("form",O,[h(g("input",{ref:"inpProductElem",type:"text","onUpdate:modelValue":t[7]||(t[7]=l=>e.productText=l),style:{width:(l.products.inputHold?200:0)+"px",opacity:""+(l.products.inputHold?1:0)}},null,4),[[v,e.productText]]),h(g("i",{onClick:t[8]||(t[8]=(...l)=>e.addProductOnClick&&e.addProductOnClick(...l))},[_],512),[[f,!l.products.inputHold]]),h(g("i",{onClick:t[9]||(t[9]=(...l)=>e.addProductSubmit&&e.addProductSubmit(...l))},[B],512),[[f,l.products.inputHold]])])])],512),[[f,l.products.data.length]]),g(r)])}));z.render=Y,z.__scopeId="data-v-d4bb574a";export default z;
